# Тестовое задание Yadro Tools and Services

Тестовое задание для стажировки. Веб-приложение для работы с внешним API [randomuser.me](https://randomuser.me/) с возможностью загрузки, хранения и отображения информации о пользователях.

## Описание проекта

Приложение предоставляет следующий функционал:

- **Главная страница**: таблица с пагинацией всех пользователей из БД + форма для загрузки новых пользователей
- **Детальная страница пользователя**: полная информация о конкретном пользователе по ID
- **Случайный пользователь**: страница со случайным пользователем из БД
- **Автозагрузка**: при старте сервера автоматически загружается 1000 пользователей

## Установка и запуск с помощью Docker-compose

1. **Клонируйте репозиторий:**
```bash
git clone https://github.com/SaveliyKrivov/yadro_test_tools_and_services.git
cd yadro_django
```

2. **Создайте файл .env:**
```bash
# Создайте файл .env в корне проекта
SECRET_KEY=your-secret-key-here
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1

POSTGRES_DB=yadro_db
POSTGRES_USER=yadro_user
POSTGRES_PASSWORD=secure_password_123
DB_HOST=db
DB_PORT=5432
```

3. **Запустите приложение:**
```bash
docker-compose up --build
```

4. **Приложение будет доступно по адресу:** http://localhost

## Технологический стек и обоснование выбора

### Backend: Django 5.2.1
- **Быстрая разработка**: Django предоставляет готовые компоненты (ORM, админка, формы)
- **Безопасность**: встроенная защита от CSRF, XSS, SQL-инъекций
- **Масштабируемость**: подходит для проектов любого размера
- **Документация**: отличная документация и большое сообщество

### База данных: PostgreSQL 16
- **Надежность**: ACID-совместимость, устойчивость к сбоям
- **Производительность**: эффективная работа с большими объемами данных
- **JSON поддержка**: встроенная поддержка JSON для гибкости схемы
- **Совместимость с Django**: отличная интеграция через psycopg2

### Frontend: Bootstrap 5 + Django Templates
- **Простота**: быстрое создание адаптивного интерфейса
- **Совместимость**: хорошо интегрируется с Django
- **Производительность**: минимальные зависимости

### Дополнительные технологии
- **Docker**: контейнеризация для простого развертывания
- **Nginx**: reverse proxy для production
- **Gunicorn**: WSGI сервер для Python приложений

## Функциональность

### Главная страница (/)
- Таблица с пагинацией (10 записей на страницу)
- Отображение: фото, имя, пол, email, телефон, локация
- Форма для загрузки пользователей (1-5000 за раз)
- AJAX-загрузка с индикатором прогресса

### Детальная страница (/<user_id>)
- Полная информация о пользователе
- Навигация обратно к списку и к случайному пользователю

### Случайная страница (/random)
- Отображение случайного пользователя из БД
- При обновлении страницы показывается новый пользователь
- Если БД пуста, автоматически загружается один пользователь

### Автозагрузка при старте
- При первом запуске автоматически загружается 1000 пользователей
- Используется Django signals (post_migrate)

## Тестирование

Проект покрыт тестами для всех основных компонентов:

```bash
# Запуск всех тестов
docker-compose exec web python manage.py test
```

### Тестируемые компоненты:
- **Модели**: создание и валидация профилей
- **Формы**: валидация формы загрузки пользователей
- **Сервисы**: получение данных от API (с моками)
- **Views**: все представления и их обработка
- **API интеграция**: мокирование внешних запросов

